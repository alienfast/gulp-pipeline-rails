language: ruby
rvm:
  - 2.2.2
  - ruby-head

matrix:
  allow_failures:
    - rvm: ruby-head

cache: bundler

#------------------------------
# Setup
before_install:
  - nvm install node 5

before_script:
  - node -v
  - bash -l rvm env --path --ruby-version

  # install Gulp 4 CLI tools globally from 4.0 GitHub branch
  #   (had problems with public key denied on branch so had to use https tarball)
  #- npm install gulpjs/gulp-cli#4.0 -g
  #- npm install git://github.com/gulpjs/gulp-cli#4.0 -g
  - npm install https://github.com/gulpjs/gulp-cli/tarball/4.0 -g

#------------------------------
# Build
script: bundle exec rake